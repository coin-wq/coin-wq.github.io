<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ¸©é¦¨æç¤º</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: "å¾®è½¯é›…é»‘", sans-serif;
        }

        /* å¼¹çª—æ ·å¼ - æ¨¡æ‹ŸåŸTkinterçª—å£ */
        .tip-window {
            position: absolute;
            width: 250px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            text-align: center;
            font-size: 16px;
            transition: all 0.3s ease-out;
            opacity: 0;
            transform: scale(0.8);
            z-index: 10;
        }

        /* å¼¹çª—æ˜¾ç¤ºåŠ¨ç”» */
        .tip-window.show {
            opacity: 1;
            transform: scale(1);
        }

        /* éŸ³ä¹çŠ¶æ€æç¤ºï¼ˆæ›¿ä»£æŒ‰é’®ï¼Œå‡å°‘æ“ä½œï¼‰ */
        .music-status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 5px 10px;
            border-radius: 20px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            font-size: 14px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯éŸ³ä¹å…ƒç´ ï¼ˆè‡ªåŠ¨æ’­æ”¾+å•æ›²å¾ªç¯ï¼Œç»“æŸåè‡ªåŠ¨å…³é—­ï¼‰ -->
    <audio id="bg-music" preload="auto" loop>
        <!-- æ›¿æ¢ä¸ºè½¬æ¢åçš„ MP3 é“¾æ¥ -->
        <source src="1.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾
    </audio>

    <script>
        // æç¤ºæ–‡å­—åˆ—è¡¨ï¼ˆä¸åŸPythonä»£ç ä¸€è‡´ï¼‰
        const tips = [
            'å¤šå–æ°´å“¦~', 'ä¿æŒå¾®ç¬‘å‘€', 'æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡',
            'è®°å¾—åƒæ°´æœ~', 'ä¿æŒå¥½å¿ƒæƒ…', 'å¥½å¥½çˆ±è‡ªå·±', 'æˆ‘æƒ³ä½ äº†',
            'æ¢¦æƒ³æˆçœŸ', 'æœŸå¾…ä¸‹ä¸€æ¬¡è§é¢', 'é‡‘æ¦œé¢˜å',
            'é¡ºé¡ºåˆ©åˆ©', 'æ—©ç‚¹ä¼‘æ¯å“¦', 'æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½è¢«é€èµ°',
            'åˆ«ç†¬å¤œ', 'ä»Šå¤©è¿‡å¾—å¼€å¿ƒå˜›', 'å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœ',
            'é˜³å…‰æ­£å¥½ï¼Œä½ ä¹Ÿå¾ˆå¥½', 'åˆ«æ€¥ï¼Œä¸€åˆ‡éƒ½ä¼šå¦‚æ„¿', 'ä½ å€¼å¾—è¢«ä¸–ç•Œæ¸©æŸ”ä»¥å¾…',
            'æ…¢æ…¢æ¥ï¼Œæ¯”è¾ƒå¿«', 'é£ä¼šæ›¿æˆ‘æ‹¥æŠ±ä½ ', 'ä»Šæ™šæ˜Ÿæ˜Ÿä¹Ÿåœ¨ä¸ºä½ çœ¨çœ¼',
            'æŠŠçƒ¦æ¼æ¸…é›¶ï¼ŒæŠŠå¿«ä¹åŠ æ»¡', 'ä½ ç¬‘èµ·æ¥çš„æ ·å­çœŸå¥½çœ‹', 'åšè‡ªå·±çš„å°å¤ªé˜³',
            'æ‰€æœ‰å¥½äº‹éƒ½åœ¨è·¯ä¸Š', 'æ„¿ä»Šå¤œå¥½æ¢¦ï¼Œé†’æ¥æœ‰ç³–', 'ä½ æ¯”è‡ªå·±æƒ³è±¡çš„æ›´å‹‡æ•¢',
            'ç´¯äº†å°±æ­‡ä¼šå„¿ï¼Œåˆ«ç¡¬æ’‘', 'ä¸–ç•Œå¾ˆå¤§ï¼Œå¹¸å¥½æœ‰ä½ ', 'æŠŠæ™®é€šçš„æ—¥å­è¿‡å¾—æµªæ¼«äº›'
        ];

        // èƒŒæ™¯é¢œè‰²åˆ—è¡¨ï¼ˆä¸åŸPythonä»£ç å¯¹åº”ï¼‰
        const bgColors = [
            'lightpink', 'skyblue', 'lightgreen', 'lavender',
            'lightyellow', 'plum', 'coral', 'bisque', 'aquamarine',
            'mistyrose', 'honeydew', 'lavenderblush', 'oldlace'
        ];

        // è·å–å±å¹•å°ºå¯¸ï¼ˆé€‚é…æ‰‹æœºï¼‰
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        const windowWidth = 250;
        const windowHeight = 80;

        // éŸ³ä¹ç›¸å…³å…ƒç´ 
        const bgMusic = document.getElementById('bg-music');
        const musicStatus = document.getElementById('music-status');
        // æ ‡è®°éŸ³ä¹æ˜¯å¦å·²å…³é—­ï¼ˆé¿å…é‡å¤å¤„ç†ï¼‰
        let isMusicClosed = false;

        // ç”Ÿæˆéšæœºä½ç½®ï¼ˆç¡®ä¿å¼¹çª—å®Œå…¨æ˜¾ç¤ºåœ¨å±å¹•å†…ï¼‰
        function getRandomPosition() {
            const maxX = screenWidth - windowWidth;
            const maxY = screenHeight - windowHeight;
            const x = Math.floor(Math.random() * maxX);
            const y = Math.floor(Math.random() * maxY);
            return { x, y };
        }

        // åˆ›å»ºå•ä¸ªæç¤ºå¼¹çª—
        function createTipWindow() {
            // åˆ›å»ºå¼¹çª—å…ƒç´ 
            const tipWindow = document.createElement('div');
            tipWindow.className = 'tip-window';

            // éšæœºè®¾ç½®å†…å®¹å’Œæ ·å¼
            const tip = tips[Math.floor(Math.random() * tips.length)];
            const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            const { x, y } = getRandomPosition();

            // åº”ç”¨æ ·å¼
            tipWindow.style.left = `${x}px`;
            tipWindow.style.top = `${y}px`;
            tipWindow.style.backgroundColor = bgColor;
            tipWindow.textContent = tip;

            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(tipWindow);

            // è§¦å‘æ˜¾ç¤ºåŠ¨ç”»
            setTimeout(() => {
                tipWindow.classList.add('show');
            }, 10);

            // å¼¹çª—è‡ªåŠ¨å…³é—­ï¼ˆé¿å…æ‰‹æœºå±å¹•è¢«å æ»¡ï¼‰
            setTimeout(() => {
                tipWindow.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(tipWindow);
                }, 300);
            }, 10000);
        }

        // éŸ³ä¹æ’­æ”¾ç»“æŸåè‡ªåŠ¨å…³é—­é€»è¾‘
        function handleMusicEnd() {
            if (isMusicClosed) return; // é¿å…é‡å¤æ‰§è¡Œ

            bgMusic.pause(); // æš‚åœéŸ³ä¹
            bgMusic.removeAttribute('loop'); // å–æ¶ˆå¾ªç¯
            musicStatus.textContent = 'éŸ³ä¹å·²ç»“æŸ'; // æ›´æ–°çŠ¶æ€æç¤º

            // 3ç§’åéšè—çŠ¶æ€æç¤ºï¼Œä¿æŒç•Œé¢ç®€æ´
            setTimeout(() => {
                musicStatus.style.opacity = '0';
                setTimeout(() => {
                    musicStatus.style.display = 'none';
                }, 300);
            }, 3000);

            isMusicClosed = true;
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', () => {
            // 1. å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼ˆå¤„ç†æ‰‹æœºæµè§ˆå™¨é™åˆ¶ï¼‰
            document.body.addEventListener('click', () => {
                if (bgMusic.paused && !isMusicClosed) {
                    bgMusic.play().catch(() => {
                        musicStatus.textContent = 'ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®æ’­æ”¾éŸ³ä¹';
                    });
                }
            }, { once: true }); // åªè§¦å‘ä¸€æ¬¡ç”¨æˆ·äº¤äº’æ£€æµ‹

            // 2. ç»‘å®šéŸ³ä¹ç»“æŸäº‹ä»¶
            bgMusic.addEventListener('ended', handleMusicEnd);

            // 3. æ‰¹é‡åˆ›å»ºå¼¹çª—ï¼ˆæ¨¡æ‹Ÿå¤šçº¿ç¨‹æ•ˆæœï¼‰
            let count = 0;
            const totalWindows = 100;
            const interval = setInterval(() => {
                if (count < totalWindows) {
                    createTipWindow();
                    count++;
                } else {
                    clearInterval(interval);
                    // æ‰€æœ‰å¼¹çª—æ˜¾ç¤ºå®Œæ¯•åæç¤º
                    setTimeout(() => {
                        const finalTip = document.createElement('div');
                        finalTip.style.position = 'fixed';
                        finalTip.style.bottom = '20px';
                        finalTip.style.left = '50%';
                        finalTip.style.transform = 'translateX(-50%)';
                        finalTip.style.padding = '10px 20px';
                        finalTip.style.backgroundColor = 'lightpink';
                        finalTip.style.borderRadius = '20px';
                        finalTip.style.fontSize = '16px';
                        finalTip.style.boxShadow = '0 2px 8px rgba(0,0,0,0.2)';
                        finalTip.textContent = 'æ‰€æœ‰æ¸©é¦¨æç¤ºå·²é€è¾¾~ ğŸ’•';
                        document.body.appendChild(finalTip);
                    }, 5000);
                }
            }, 100);
        });
    </script>
</body>
</html>