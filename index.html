<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>希望你记得</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            background-color: #f0f0f0;
            font-family: "微软雅黑", sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        /* 启动页面样式 */
        .start-screen {
            text-align: center;
            padding: 20px;
            max-width: 90%;
            z-index: 100;
        }
        
        .start-screen h1 {
            color: #ff6b6b;
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        
        .start-screen p {
            color: #555;
            font-size: 1.1rem;
            margin-bottom: 30px;
            line-height: 1.5;
        }
        
        .start-button {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            transition: all 0.3s ease;
            font-family: "微软雅黑", sans-serif;
        }
        
        .start-button:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5);
        }
        
        /* 弹窗样式 - 模拟原Tkinter窗口 */
        .tip-window {
            position: absolute;
            width: 250px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            text-align: center;
            font-size: 16px;
            transition: all 0.3s ease-out;
            opacity: 0;
            transform: scale(0.8);
            z-index: 10;
            cursor: pointer;
        }
        
        /* 弹窗显示动画 */
        .tip-window.show {
            opacity: 1;
            transform: scale(1);
        }

        /* 音乐状态提示 */
        .music-status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 8px 15px;
            border-radius: 20px;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            font-size: 14px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .music-icon {
            width: 16px;
            height: 16px;
        }
        
        /* 结束提示 */
        .final-tip {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 25px;
            background-color: #ff6b6b;
            color: white;
            border-radius: 20px;
            font-size: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 100;
        }
        
        .final-tip.show {
            opacity: 1;
        }
        
        /* 音乐控制按钮 */
        .music-control {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            z-index: 100;
        }
        
        .music-control svg {
            width: 20px;
            height: 20px;
            fill: #ff6b6b;
        }
        
        /* 响应式调整 */
        @media (max-width: 480px) {
            .start-screen h1 {
                font-size: 1.8rem;
            }
            
            .start-screen p {
                font-size: 1rem;
            }
            
            .tip-window {
                width: 200px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- 启动页面 -->
    <div class="start-screen" id="startScreen">
        <h1>你一定要记得</h1>
        <p>这里有一些话想要送给你<br>点击下方按钮开始接收</p>
        <button class="start-button" id="startButton">点击开启</button>
    </div>

    <!-- 背景音乐元素 -->
    <audio id="bg-music" preload="auto" loop>
        <!-- 替换为您的音乐文件路径 -->
        <source src="1.mp3" type="audio/mpeg">
        您的浏览器不支持音频播放
    </audio>

    <!-- 音乐状态提示 -->
    <!-- <div class="music-status" id="musicStatus">
        <svg class="music-icon" viewBox="0 0 24 24">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
        </svg>
        <span>音乐播放中</span>
    </div> -->

    <!-- 音乐控制按钮 -->
    <div class="music-control" id="musicControl">
        <svg viewBox="0 0 24 24">
            <path d="M6 6h4v12H6zm8 0h4v12h-4z"/>
        </svg>
    </div>

    <script>
        // 提示文字列表（与原Python代码一致）
        const tips = [
            '多喝水哦~', '保持微笑呀', '每天都要元气满满',
            '记得吃水果~', '保持好心情', '好好爱自己', '我想你了',
            '梦想成真', '期待下一次见面', '金榜题名',
            '顺顺利利', '早点休息哦', '愿所有烦恼都被送走',
            '别熬夜', '今天过得开心嘛', '天冷了，多穿衣服',
            '阳光正好，你也很好', '别急，一切都会如愿', '你值得被世界温柔以待',
            '慢慢来，比较快', '风会替我拥抱你', '今晚星星也在为你眨眼',
            '把烦恼清零，把快乐加满', '你笑起来的样子真好看', '做自己的小太阳',
            '所有好事都在路上', '愿今夜好梦，醒来有糖', '你比自己想象的更勇敢',
            '累了就歇会儿，别硬撑', '世界很大，幸好有你', '把普通的日子过得浪漫些'
        ];

        // 背景颜色列表（与原Python代码对应）
        const bgColors = [
            'lightpink', 'skyblue', 'lightgreen', 'lavender',
            'lightyellow', 'plum', 'coral', 'bisque', 'aquamarine',
            'mistyrose', 'honeydew', 'lavenderblush', 'oldlace'
        ];

        // 获取屏幕尺寸（适配手机）
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        const windowWidth = 250;
        const windowHeight = 80;

        // 获取DOM元素
        const startScreen = document.getElementById('startScreen');
        const startButton = document.getElementById('startButton');
        const bgMusic = document.getElementById('bg-music');
        const musicStatus = document.getElementById('musicStatus');
        const musicControl = document.getElementById('musicControl');
        
        // 标记音乐是否已关闭
        let isMusicClosed = false;
        // 标记是否已开始
        let hasStarted = false;

        // 生成随机位置（确保弹窗完全显示在屏幕内）
        function getRandomPosition() {
            const maxX = screenWidth - windowWidth;
            const maxY = screenHeight - windowHeight;
            const x = Math.floor(Math.random() * maxX);
            const y = Math.floor(Math.random() * maxY);
            return { x, y };
        }

        // 创建单个提示弹窗
        function createTipWindow() {
            // 创建弹窗元素
            const tipWindow = document.createElement('div');
            tipWindow.className = 'tip-window';
            
            // 随机设置内容和样式
            const tip = tips[Math.floor(Math.random() * tips.length)];
            const bgColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            const { x, y } = getRandomPosition();
            
            // 应用样式
            tipWindow.style.left = `${x}px`;
            tipWindow.style.top = `${y}px`;
            tipWindow.style.backgroundColor = bgColor;
            tipWindow.textContent = tip;
            
            // 添加到页面
            document.body.appendChild(tipWindow);
            
            // 触发显示动画
            setTimeout(() => {
                tipWindow.classList.add('show');
            }, 10);
            
            // 点击弹窗关闭
            tipWindow.addEventListener('click', () => {
                tipWindow.classList.remove('show');
                setTimeout(() => {
                    if (tipWindow.parentNode) {
                        document.body.removeChild(tipWindow);
                    }
                }, 300);
            });
            
            // 弹窗自动关闭（避免手机屏幕被占满）
            setTimeout(() => {
                if (tipWindow.parentNode) {
                    tipWindow.classList.remove('show');
                    setTimeout(() => {
                        if (tipWindow.parentNode) {
                            document.body.removeChild(tipWindow);
                        }
                    }, 300);
                }
            }, 10000);
        }

        // 播放音乐
        function playMusic() {
            if (isMusicClosed) return;
            
            bgMusic.play().then(() => {
                musicStatus.textContent = '音乐播放中';
                musicStatus.style.display = 'flex';
            }).catch(error => {
                console.log('自动播放被阻止:', error);
                musicStatus.textContent = '点击播放音乐';
                musicStatus.style.display = 'flex';
            });
        }

        // 音乐播放结束后自动关闭逻辑
        function handleMusicEnd() {
            if (isMusicClosed) return; // 避免重复执行
            
            bgMusic.pause(); // 暂停音乐
            bgMusic.removeAttribute('loop'); // 取消循环
            musicStatus.textContent = '音乐已结束'; // 更新状态提示
            
            // 3秒后隐藏状态提示，保持界面简洁
            setTimeout(() => {
                musicStatus.style.opacity = '0';
                setTimeout(() => {
                    musicStatus.style.display = 'none';
                }, 300);
            }, 3000);
            
            isMusicClosed = true;
        }

        // 开始显示弹窗
        function startTips() {
            if (hasStarted) return;
            hasStarted = true;
            
            // 隐藏启动页面
            startScreen.style.display = 'none';
            
            // 播放音乐
            playMusic();
            
            // 批量创建弹窗（模拟多线程效果）
            let count = 0;
            const totalWindows = 100;
            const interval = setInterval(() => {
                if (count < totalWindows) {
                    createTipWindow();
                    count++;
                } else {
                    clearInterval(interval);
                    // 所有弹窗显示完毕后提示
                    setTimeout(() => {
                        const finalTip = document.createElement('div');
                        finalTip.className = 'final-tip';
                        finalTip.textContent = '所有温馨提示已送达~ 💕';
                        document.body.appendChild(finalTip);
                        
                        setTimeout(() => {
                            finalTip.classList.add('show');
                        }, 100);
                    }, 5000);
                }
            }, 100);
        }

        // 页面加载完成后执行
        window.addEventListener('load', () => {
            // 绑定开始按钮事件
            startButton.addEventListener('click', startTips);
            
            // 绑定音乐控制按钮事件
            musicControl.addEventListener('click', () => {
                if (bgMusic.paused) {
                    bgMusic.play();
                    musicStatus.textContent = '音乐播放中';
                    musicStatus.style.display = 'flex';
                    musicControl.innerHTML = '<svg viewBox="0 0 24 24"><path d="M6 6h4v12H6zm8 0h4v12h-4z"/></svg>';
                } else {
                    bgMusic.pause();
                    musicStatus.textContent = '音乐已暂停';
                    musicControl.innerHTML = '<svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>';
                }
            });
            
            // 绑定音乐结束事件
            bgMusic.addEventListener('ended', handleMusicEnd);
            
            // 处理触摸/点击事件以触发音频播放
            document.body.addEventListener('click', () => {
                if (!hasStarted && bgMusic.paused) {
                    playMusic();
                }
            });
        });
    </script>
</body>
</html>


